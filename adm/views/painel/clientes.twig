{% extends "common/head-painel.twig" %}

{% block conteiner %}
    <div class="container-fluid">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-list"></i> Listando {{namePage}}</h3>
            </div>
            <div class="panel-body">
                <div class="well">
                    <div class="row">
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label" for="input-name">Cliente</label>
                                <input type="text" name="filter_name" value="" placeholder="Cliente" id="input-name" class="form-control" autocomplete="off">
                                <ul class="dropdown-menu">
                                </ul>
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="input-email">E-mail</label>
                                <input type="text" name="filter_email" value="" placeholder="E-mail" id="input-email" class="form-control" autocomplete="off">
                                <ul class="dropdown-menu">
                                </ul>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label" for="input-customer-group">Tipo de cliente</label>
                                <select name="filter_customer_group_id" id="input-customer-group" class="form-control">
                                    <option value="*"></option>
                                    <option value="3">Agencias</option>
                                    <option value="2">Construtoras</option>
                                    <option value="1">Default</option>
                                    <option value="4">Fisico</option>
                                    <option value="5">Imobili&aacute;ria</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="input-status">Situa&ccedil;&atilde;o
                                </label>
                                <select name="filter_status" id="input-status" class="form-control">
                                    <option value="*"></option>
                                    <option value="1">Habilitado</option>
                                    <option value="0">Desabilitado</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label" for="input-approved">Aprovado</label>
                                <select name="filter_approved" id="input-approved" class="form-control">
                                    <option value="*"></option>
                                    <option value="1">Sim</option>
                                    <option value="0">N&atilde;o</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label class="control-label" for="input-ip">IP</label>
                                <input type="text" name="filter_ip" value="" placeholder="IP" id="input-ip" class="form-control">
                            </div>
                        </div>
                        <div class="col-sm-3">
                            <div class="form-group">
                                <label class="control-label" for="input-date-added">Cadastro</label>
                                <div class="input-group date">
                                    <input type="text" name="filter_date_added" value="" placeholder="Cadastro" data-date-format="YYYY-MM-DD" id="input-date-added" class="form-control">
                                    <span class="input-group-btn">
                                        <button type="button" class="btn btn-default"><i class="fa fa-calendar"></i></button>
                                    </span></div>
                            </div>
                            <button type="button" id="button-filter" class="btn btn-primary pull-right"><i class="fa fa-filter"></i> Filtrar</button>
                        </div>
                    </div>
                </div>
                <form action="#" method="post" enctype="multipart/form-data" id="form-customer">
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover">
                            <thead>

                            </thead>
                            <tbody>

                            </tbody>
                        </table>
                    </div>
                </form>
                <div class="row">
                    <div class="col-sm-6 text-left">
                        <ul class="pagination">
                            <li class="active"><span>1</span></li>
                        </ul>
                    </div>
                    <div class="col-sm-6 text-right">Exibindo de 1 a 1 do total de (1 p&aacute;ginas)</div>
                </div>
            </div>
        </div>
    </div>
{% endblock %} 
{% block javascripts %}
    <script type="text/javascript">

        $(document).ready(function () {

            carregaRegistros();

        });

        function carregaRegistros()
        {

            $.getJSON('{{route}}{{page}}/getAll', function (retorno) {


                $('tbody').empty();
                retorno.forEach(function (obj, idx) {



                    var tr = '<tr obj-id="' + obj.cliente_id + '">'


                            + '<td class="text-left">' + obj.cliente_id + '</td>'
                            + '<td class="text-left">' + obj.nome_fantasia + '</td>'
                            + '<td class="text-left">' + obj.contato + '</td>'
                            + '<td class="text-left">' + obj.email + '</td>'
                            + '<td class="text-left">' + obj.telefone + '</td>'
                            + '<td class="text-left">' + obj.id_categoria + '</td>'
                            + '<td class="text-left">' + obj.status + '</td>'
                            + '<td class="text-center">'
                            + ' <a href="#" data-toggle="tooltip" title="" class="btn btn-success" data-original-title="Vizualizar"><i class="fa fa-eye"></i></a>'
                            + ' <a href="editarClientes&idCliente='+obj.cliente_id+'" data-toggle="tooltip" title="" class="btn btn-danger" data-original-title="Editar"><i class="fa fa-pencil"></i></a>'
                            + ' <a href="#" data-toggle="tooltip" title="" class="btn btn-info" data-original-title="Ir para o pedido"><i class="fa fa-external-link"></i></a>'
                            + '</td>'

                            + '</tr>';
                    $('tbody').append(tr);
                });


            }
            );


        }


    </script>

{% endblock %}